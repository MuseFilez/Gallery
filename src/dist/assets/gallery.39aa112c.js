import{g as e,l as t,b as n,h as a,a as o,c,d as s,m as l}from"./storage.52eb1b12.js";import{G as d}from"./vendor.061fb27f.js";function i(e){const t=document.createElement("div");t.className="gallery-image-card";const n=document.createElement("img");n.src=e.gatewayURL,n.alt=e.caption;const a=document.createElement("span");a.className="gallery-image-caption",a.textContent=e.caption;const o=s(e.gatewayURL),c=l(e.gatewayURL);return t.appendChild(n),t.appendChild(a),t.appendChild(o),t.appendChild(c),t}e()||navToSettings(),async function(){const e=document.getElementById("carousel"),s=document.getElementById("carousel-spinner"),l=document.getElementById("slide-container");if(!l)return;const m=[];let r=0,g=0;for await(const a of t()){m[g]=a.cid;const e=i(a),t=document.createElement("li");t.className="glide__slide",t.appendChild(e),l.appendChild(t),a.cid===n()&&(r=g),g+=1}if(console.log(`loaded metadata for ${g} images`),0==g){a(s);const e=document.getElementById("no-content-message");o(e)}else o(e),a(s);const p=new d(".glide",{type:"carousel",gap:800,startAt:r});p.on("move.after",(()=>{c(m[p.index]),function(e,t){const n=document.getElementById("gallery-image-count");if(!n)return;n.textContent=`Image ${e} of ${t}`}(p.index+1,m.length)})),p.mount(),window.onhashchange=()=>{const e=n();console.log("hash change",e);for(let t=0;t<m.length;t++)if(m[t]===e){p.index!==t&&p.go(`=${t}`);break}}}();
